<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Happy Birthday!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Pacifico&family=Inter:wght@400;700&display=swap"
        rel="stylesheet"
    />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }
        .font-pacifico {
            font-family: 'Pacifico', cursive;
        }
        .screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out;
            opacity: 0;
            transform: scale(1.1);
            pointer-events: none;
        }
        .screen.active {
            opacity: 1;
            transform: scale(1);
            pointer-events: all;
        }
        .typing-effect {
            border-right: 0.15em solid #f97316;
            white-space: nowrap;
            overflow: hidden;
            animation: typing 2s steps(30, end), blink-caret 0.75s step-end infinite;
        }
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #f97316; }
        }
        .cake {
            position: relative;
            width: 250px;
            height: 200px;
        }
        .cake-body {
            width: 100%;
            height: 100px;
            background: #a855f7;
            border-radius: 10px 10px 0 0;
            position: absolute;
            bottom: 0;
            box-shadow: 0px 5px 20px rgba(168, 85, 247, 0.7);
            animation: glow 1.5s infinite alternate;
        }
        .cake-layer {
            width: 100%;
            height: 40px;
            background: #d8b4fe;
            position: absolute;
            bottom: 0;
            border-radius: 10px 10px 0 0;
        }
        .icing {
            width: 100%;
            height: 20px;
            background: #f472b6;
            position: absolute;
            top: -10px;
            border-radius: 50% / 10px;
        }
        .candle {
            width: 10px;
            height: 40px;
            background: #fde047;
            position: absolute;
            top: 60px; /* Adjusted position to sit correctly on the cake */
            left: 50%;
            transform: translateX(-50%);
            border-radius: 3px;
        }
        .flame {
            width: 12px;
            height: 25px;
            background: #fb923c;
            position: absolute;
            top: -25px;
            left: -1px;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: flame-flicker 1s infinite;
            box-shadow: 0 0 10px #f59e0b, 0 0 20px #f59e0b, 0 0 30px #f59e0b;
        }
        @keyframes flame-flicker {
            0%, 100% { transform: scaleY(1) rotate(-2deg); }
            50% { transform: scaleY(1.1) rotate(2deg); }
        }
        @keyframes glow {
            from { box-shadow: 0px 5px 20px rgba(168, 85, 247, 0.5); }
            to { box-shadow: 0px 5px 40px rgba(216, 180, 254, 1); }
        }
        .card {
            transform-style: preserve-3d;
            transition: transform 0.8s;
        }
        .card.is-flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .card-face-back {
            transform: rotateY(180deg);
        }
        .perspective-1000 {
            perspective: 1000px;
        }
        #fireworks-text, #celebrateBtn {
            transition: opacity 1s ease;
            opacity: 0;
        }
        #fireworks-text.visible, #celebrateBtn.visible {
            opacity: 1;
        }
    </style>
</head>
<body class="bg-gray-900 text-white overflow-hidden">

    <div id="screen1" class="screen active bg-gradient-to-br from-yellow-300 via-pink-400 to-red-500">
        <div class="bg-white/30 backdrop-blur-lg p-10 rounded-2xl shadow-2xl text-center text-gray-800">
            <h1 class="font-pacifico text-5xl mb-4">Sweet Login</h1>
            <p class="mb-6">Click below to begin the experience!</p>
            <button id="loginBtn" class="bg-gradient-to-r from-pink-500 to-orange-400 text-white font-bold py-3 px-8 rounded-full shadow-lg transform hover:scale-105 transition-transform">
                Let's Go!
            </button>
        </div>
    </div>

    <div id="screen2" class="screen bg-gradient-to-br from-teal-400 to-blue-500">
        <div class="text-center">
            <h2 id="typing-text" class="text-4xl md:text-5xl font-pacifico"></h2>
        </div>
    </div>

    <div id="screen3" class="screen bg-gradient-to-br from-green-400 to-cyan-500">
        <div class="text-center p-4">
            <h1 class="text-5xl md:text-7xl font-pacifico mb-6 animate-pulse">üéâ Happy Birthday! üéâ</h1>
            <p class="text-2xl mb-8">Welcome to seal opening ceremony!</p>
            <button id="surpriseBtn" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-4 px-10 rounded-full shadow-xl transform hover:scale-105 transition-transform text-lg">
                open the seal! üå∏
            </button>
        </div>
    </div>

    <div id="screen4" class="screen bg-gray-900 bg-opacity-80 backdrop-blur-sm">
        <div class="flex flex-col items-center justify-center">
            <h1 class="text-5xl font-pacifico text-purple-300 mb-8">Magical Cake Time! ‚ú®</h1>
            <div class="cake my-8">
                <div class="cake-body">
                    <div class="icing"></div>
                    <div class="cake-layer"></div>
                </div>
                <div class="candle">
                    <div class="flame"></div>
                </div>
            </div>
            <button id="magicBtn" class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transform hover:scale-105 transition-transform">
                Begin Magic
            </button>
        </div>
    </div>

    <div id="screen5" class="screen bg-black">
        <canvas id="fireworksCanvas" class="absolute top-0 left-0 w-full h-full"></canvas>
        <div id="fireworks-text" class="text-center z-10">
            <h1 class="text-4xl md:text-6xl font-pacifico text-white mb-8">Happy Birthday, CR</h1>
            <button id="celebrateBtn" class="bg-gradient-to-r from-yellow-400 to-red-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transform hover:scale-105 transition-transform animate-pulse">
                It's Time to celebrate
            </button>
        </div>
    </div>
    
    <div id="screen6" class="screen bg-gray-900">
         <div class="flex flex-col items-center justify-center text-center p-4">
            <h1 class="text-5xl font-pacifico text-yellow-300 mb-8">A Special video For You! üé¨</h1>
             <video id="birthdayVideo" class="rounded-lg shadow-2xl max-w-full" style="max-height: 60vh;" preload="auto">
                <source src="nehith video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="mt-8">
                <button id="playVideoBtn" class="bg-gradient-to-r from-green-400 to-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transform hover:scale-105 transition-transform">
                    Play Video
                </button>
                <button id="showCardBtn" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transform hover:scale-105 transition-transform" style="display: none;">
                    See Your Card üíå
                </button>
            </div>
         </div>
    </div>

    <div id="screen7" class="screen bg-gradient-to-br from-rose-100 to-teal-100">
        <div class="w-full max-w-lg h-auto perspective-1000">
            <div id="card" class="relative w-full h-[600px] card">
                <div class="card-face absolute w-full h-full bg-white rounded-lg shadow-2xl flex flex-col items-center justify-center p-8 text-gray-800">
                    <h2 class="font-pacifico text-5xl text-pink-500">Happy Birthday</h2>
                    <p class="text-2xl mt-4">To Patti CR!</p>
                    <img src="https://placehold.co/150x150/f472b6/ffffff?text=üéâ" alt="Birthday Icon" class="rounded-full my-8" />
                    <p class="text-lg font-semibold">Click me to see your message!</p>
                </div>
                <div class="card-face card-face-back absolute w-full h-full bg-white rounded-lg shadow-2xl flex flex-col items-center justify-start p-8 text-gray-800 overflow-y-auto">
                    <img src="nehith.png" alt="Person" class="rounded-full -mt-4 mb-4" />
                    <h3 class="font-pacifico text-3xl text-purple-600 mb-4">Hey pervert CRüòú,</h3>
                    <p class="text-center text-lg">
                        Happy birthday to the most irresponsible guy in our class<br /><br />
                        The only guy who wears casuals and calls it formal... even your clothes are confused as your responsibilities.<br /><br />
                        "The only time you replied us fast is when the teacher texts, not when we do".<br /><br />
                        And when it comes to hostel, it is a call center for you where your girlfriend is the only customer.<br /><br />
                        Anyway, since this is just our first year, we‚Äôve got three more years to go together. By the end of fourth year, we don‚Äôt just want to survive assignments and exams ‚Äî we want to have the craziest fun, the biggest parties, and the best memories. And of course, our pervert CR will still be there‚Ä¶ forwarding the party details to every girl first!<br /><br />
                        You deserve to be CR.
                    </p>
                    <p class="mt-6 mb-8 font-pacifico text-2xl text-pink-500">From the bottom of my love‚ù§Ô∏èDa</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Screen navigation elements
        const screens = document.querySelectorAll('.screen');
        const loginBtn = document.getElementById('loginBtn');
        const surpriseBtn = document.getElementById('surpriseBtn');
        const magicBtn = document.getElementById('magicBtn');
        const celebrateBtn = document.getElementById('celebrateBtn');
        const card = document.getElementById('card');
        const typingTextElement = document.getElementById('typing-text');
        const fireworksText = document.getElementById('fireworks-text');

        // New video elements
        const playVideoBtn = document.getElementById('playVideoBtn');
        const birthdayVideo = document.getElementById('birthdayVideo');
        const showCardBtn = document.getElementById('showCardBtn');


        let currentScreen = 0;
        
        function openFullscreen() {
            const elem = document.documentElement;
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            } else if (elem.mozRequestFullScreen) {
                elem.mozRequestFullScreen();
            } else if (elem.webkitRequestFullscreen) {
                elem.webkitRequestFullscreen();
            } else if (elem.msRequestFullscreen) {
                elem.msRequestFullscreen();
            }
        }

        function showScreen(index) {
            screens.forEach((screen, i) => {
                if (i === index) {
                    screen.classList.add('active');
                } else {
                    screen.classList.remove('active');
                }
            });
            currentScreen = index;
        }

        // Typing effect
        function startTyping(text, onComplete) {
            let i = 0;
            typingTextElement.textContent = '';
            typingTextElement.style.borderRight = '0.15em solid #f97316';
            typingTextElement.style.animation = 'typing 2s steps(30, end), blink-caret 0.75s step-end infinite';
            typingTextElement.classList.add('typing-effect');


            function type() {
                if (i < text.length) {
                    typingTextElement.textContent += text.charAt(i);
                    i++;
                    setTimeout(type, 80);
                } else {
                    typingTextElement.style.borderRight = 'none';
                    typingTextElement.style.animation = '';
                    if (onComplete) onComplete();
                }
            }
            type();
        }

        // Fireworks setup
        const canvas = document.getElementById('fireworksCanvas');
        const ctx = canvas.getContext('2d');
        let fireworks = [];
        let particles = [];
        let animationFrameId;
        let fireworkInterval;

        function setupCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        setupCanvas();
        window.addEventListener('resize', setupCanvas);

        function Firework(sx, sy, tx, ty) {
            this.x = sx; this.y = sy;
            this.sx = sx; this.sy = sy;
            this.tx = tx; this.ty = ty;
            this.distanceToTarget = Math.hypot(tx - sx, ty - sy);
            this.distanceTraveled = 0;
            this.coordinates = [];
            this.coordinateCount = 3;
            while (this.coordinateCount--) {
                this.coordinates.push([this.x, this.y]);
            }
            this.angle = Math.atan2(ty - sy, tx - sx);
            this.speed = 2;
            this.acceleration = 1.05;
            this.brightness = Math.random() * 50 + 50;
        }
        Firework.prototype.update = function (index) {
            this.coordinates.pop();
            this.coordinates.unshift([this.x, this.y]);
            this.speed *= this.acceleration;
            let vx = Math.cos(this.angle) * this.speed;
            let vy = Math.sin(this.angle) * this.speed;
            this.distanceTraveled = Math.hypot(this.x - this.sx, this.y - this.sy);

            if (this.distanceTraveled >= this.distanceToTarget) {
                createParticles(this.tx, this.ty);
                fireworks.splice(index, 1);
            } else {
                this.x += vx;
                this.y += vy;
            }
        };
        Firework.prototype.draw = function () {
            ctx.beginPath();
            ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
            ctx.lineTo(this.x, this.y);
            ctx.strokeStyle = `hsl(${Math.random() * 360}, 100%, ${this.brightness}%)`;
            ctx.stroke();
        };

        function Particle(x, y) {
            this.x = x; this.y = y;
            this.coordinates = [];
            this.coordinateCount = 5;
            while (this.coordinateCount--) {
                this.coordinates.push([this.x, this.y]);
            }
            this.angle = Math.random() * Math.PI * 2;
            this.speed = Math.random() * 10 + 1;
            this.friction = 0.95;
            this.gravity = 1;
            this.hue = Math.random() * 360;
            this.brightness = Math.random() * 50 + 50;
            this.alpha = 1;
            this.decay = Math.random() * 0.03 + 0.015;
        }
        Particle.prototype.update = function (index) {
            this.coordinates.pop();
            this.coordinates.unshift([this.x, this.y]);
            this.speed *= this.friction;
            this.x += Math.cos(this.angle) * this.speed;
            this.y += Math.sin(this.angle) * this.speed + this.gravity;
            this.alpha -= this.decay;
            if (this.alpha <= this.decay) {
                particles.splice(index, 1);
            }
        };
        Particle.prototype.draw = function () {
            ctx.beginPath();
            ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
            ctx.lineTo(this.x, this.y);
            ctx.strokeStyle = `hsla(${this.hue}, 100%, ${this.brightness}%, ${this.alpha})`;
            ctx.stroke();
        };

        function createParticles(x, y) {
            let particleCount = 30;
            while (particleCount--) {
                particles.push(new Particle(x, y));
            }
        }

        function loop() {
            animationFrameId = requestAnimationFrame(loop);
            ctx.globalCompositeOperation = 'destination-out';
            ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.globalCompositeOperation = 'lighter';

            for (let i = fireworks.length - 1; i >= 0; i--) {
                fireworks[i].draw();
                fireworks[i].update(i);
            }
            for (let i = particles.length - 1; i >= 0; i--) {
                particles[i].draw();
                particles[i].update(i);
            }
        }

        function startFireworks() {
            setupCanvas();
            setTimeout(() => {
                fireworksText.classList.add('visible');
                celebrateBtn.classList.add('visible');
            }, 1000);
            
            fireworkInterval = setInterval(() => {
                let startX = canvas.width / 2;
                let startY = canvas.height;
                let targetX = Math.random() * canvas.width;
                let targetY = Math.random() * canvas.height / 2;
                fireworks.push(new Firework(startX, startY, targetX, targetY));
            }, 800);
            loop();
        }

        function stopFireworks() {
            cancelAnimationFrame(animationFrameId);
            clearInterval(fireworkInterval);
            fireworks = [];
            particles = [];
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            fireworksText.classList.remove('visible');
            celebrateBtn.classList.remove('visible');
        }

        // --- Event listeners for navigation ---
        loginBtn.addEventListener('click', () => {
            openFullscreen(); 
            showScreen(1);
            startTyping("There's a surprise waiting for you...", () => {
                setTimeout(() => showScreen(2), 2500);
            });
        });

        surpriseBtn.addEventListener('click', () => {
            showScreen(3);
        });

        magicBtn.addEventListener('click', () => {
            showScreen(4);
            startFireworks();
        });

        celebrateBtn.addEventListener('click', () => {
            stopFireworks();
            showScreen(5); // Go to the new video screen
        });

        card.addEventListener('click', () => {
            card.classList.toggle('is-flipped');
        });

        // --- New Listeners for Video Screen ---
        playVideoBtn.addEventListener('click', () => {
            birthdayVideo.play();
            playVideoBtn.style.display = 'none'; // Hide play button
            showCardBtn.style.display = 'inline-block'; // Show the "See Card" button
        });

        birthdayVideo.addEventListener('ended', () => {
            // Optional: When the video finishes, show the play button again
            playVideoBtn.style.display = 'inline-block';
        });

        showCardBtn.addEventListener('click', () => {
            birthdayVideo.pause();
            birthdayVideo.currentTime = 0; // Rewind the video
            showScreen(6); // Go to the final card screen
        });


        // Initial setup to show the first screen
        showScreen(0);
    </script>
</body>
</html>